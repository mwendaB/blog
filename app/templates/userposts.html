{% extends 'base.html'%}

{% block content %}
    <div class="container">
        <h1 class="text-center mb-2">{{user.blog.count()}} Posts by {{ user.username }} </h1>
        <div class="row">
            <div class="col-md-2">
                    
            </div>
            <div class="col-md-8">
                {% for blog in blogs.items %}
                    <div class="" >
                        <hr>
                        <div class="row">
                            <div class="card" style="padding: 5%; background-color: transparent;">
                                <div class="card-image">
                                    <img class="rounded-circle blog-img mr-10" src="{{ url_for('static', filename='photos/' + blog.user.profile_pic_path) }}">
                                </div>
                                <div class="card-title">
                                    <p>By {{blog.user.username}}</span>  on {{blog.posted.strftime('%d-%m-%Y')}}</p>
                                    <h3>Title: <a href="{{url_for('main.blog',id = blog.id)}}">{{blog.title}}</a></h3>

                                </div>
                                <div class="card-content">
                                    <p>{{blog.content}}</p>
                                </div>
                                <div class="card-footer">

                                </div>
                            </div>
                        </div>  
                        <hr> 
                    </div>
                {% endfor %}

                {% for page_num in blogs.iter_pages(left_edge = 1, right_edge = 1, left_current=1, right_current = 2) %}
                    {% if page_num %}
                        {% if blogs.page == page_num %}
                            <a href="{{url_for('main.user_posts',username = user.username,page = page_num)}}" class="btn btn-sm btn-info mb-2">{{ page_num }}</a>
                        {% else%}
                        <a href="{{url_for('main.user_posts',username = user.username,page = page_num)}}" class="btn btn-sm btn-outline-info mb-2">{{ page_num }}</a>
                        {% endif %}
                    {% else%}
                        ...
                    {% endif %}
                {% endfor %}  

            </div>
            <div class="col-md-2"></div>
        </div>
    </div>
    <!-- Footer -->
<footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            <li class="list-inline-item">
              <a href="https://twitter.com/login" target="_blank">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://www.instagram.com/" target="_blank">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://github.com/EssyMwangi" target="_blank">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          </ul>
          <p class="copyright text-muted text-center">
            Copyright &copy; Essy Mwangi 2020
          </p>
        </div>
      </div>
    </div>
  </footer>
{% endblock %}